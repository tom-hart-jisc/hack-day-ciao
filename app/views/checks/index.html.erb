<div class="card">
<div class="card-header">
  <h3 class="card-title">Service status</h3>
  <div class="card-options">
    <span id="notice"><%= notice %></span>
    <%= link_to 'JSON',
      checks_path(format: :json), class: 'btn btn-success btn-sm ml-1'%>
  </div>
</div>
<div class="
box-border 
gap-x-4 grid sm:grid-cols-2
max-w-screen-lg
pl-4 pr-4 
mx-auto
md:gap-6 md:px-6
">

<div class="flex p-4 mb-4 text-sm text-blue-700 bg-blue-100 rounded-lg dark:bg-blue-200 dark:text-blue-800" role="alert">
  <svg aria-hidden="true" class="flex-shrink-0 inline w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>
  <span class="sr-only">Info</span>
  <div>
    <span class="font-medium">Info alert!</span> Change a few things up and try submitting again.
    <p class="mb-0">Test</p>
  </div>
</div>

<div class="flex p-4 mb-4 text-sm text-blue-700 bg-blue-100 rounded-lg dark:bg-blue-200 dark:text-blue-800" role="alert">
  <svg aria-hidden="true" class="flex-shrink-0 inline w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>
  <span class="sr-only">Info</span>
  <div>
    <span class="font-medium">Info alert!</span> Change a few things up and try submitting again.
    <p class="mb-0">Test</p>
  </div>
</div>
</div>
<div class="table-responsive">
<table class="bg-black table card-table table-striped table-vcenter">
  <thead>
    <tr>
      <th colspan=2>Active</th>
      <th>Namething</th>
      <th>Cron</th>
      <th>Url</th>
      <th>Status</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @checks.each do |check| %>
      <tr>
        <td class="<%= class_for_active(check.active) %>"><i class="fe <%= class_for_active_checkbox(check.active) %>"></i></td>
        <td><%= link_to ('<i class="fe fe-edit"></i>').html_safe, edit_check_path(check) %></td>
        <td>
          <div><strong><%= link_to check.name, check %></strong></div>
          <div class="small text-muted">
            <span class="text-<%= class_for_status(check.status) %>">
              <strong><%= truncate(check.status, :length => 10) %></strong></span>
            <%= time_ago_in_words(check.last_contact_at) + " ago" if check.last_contact_at %>
          </div>
        </td>
        <td class="text-nowrap">
          <div>
            <strong><%= check.cron %></strong>
            <span class="small text-muted float-right"><%= "in " + distance_of_time_in_words(Time.current, check.next_contact_at) if check.next_contact_at %>
            </span>
          </div>
          <div class="small text-muted">
            <%= "Next: " + check.next_contact_at.to_s if check.next_contact_at %>
          </div>
        </td>
        <td>
          <div class="<%= class_for_status(check.status) %>"><%= link_to check.url, check.url %></div>
          <div class="small text-muted"><%= "Last: " + check.last_contact_at.to_s if check.last_contact_at %></div>
        </td>
        <td>
          <% if check.status.to_i.between?(100, 599) %>
            <span class="badge badge-<%= class_for_status(check.status) %>"><%= check.status %></span>
          <% else %>
            <div class="small text-danger">
            <%= truncate(check.status, :length => 37) %>
            </div>
          <% end %>
          <div class="small text-muted">
            <%= truncate(check.job, :length => 15, omission: '') %>
          </div>
        </td>
        <td>
          <%= button_to check, class: "btn btn-outline-danger btn-sm", method: :delete do %>
            <i class="fe fe-trash"></i>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
</div>
</div>
